
****** Vitis HLS - High-Level Synthesis from C, C++ and OpenCL v2022.2 (64-bit)
  **** SW Build 3670227 on Oct 13 2022
  **** IP Build 3669848 on Fri Oct 14 08:30:02 MDT 2022
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.

source /data/xilinx/Vitis_HLS/2022.2/scripts/vitis_hls/hls.tcl -notrace
INFO: [HLS 200-10] Running '/data/xilinx/Vitis_HLS/2022.2/bin/unwrapped/lnx64.o/vitis_hls'
INFO: [HLS 200-10] For user 'jichengzhi' on host 'super-test' (Linux_x86_64 version 5.4.0-169-generic) on Sun Sep 28 11:19:16 CST 2025
INFO: [HLS 200-10] On os Ubuntu 20.04.6 LTS
INFO: [HLS 200-10] In directory '/data1/jcz/activation_accelerator_tutorial/prj/baseline/kernel_hls'
Sourcing Tcl script 'run_hls.tcl'
INFO: [HLS 200-1510] Running: open_project -reset activation_accelerator 
INFO: [HLS 200-10] Opening and resetting project '/data1/jcz/activation_accelerator_tutorial/prj/baseline/kernel_hls/activation_accelerator'.
INFO: [HLS 200-1510] Running: add_files activation_accelerator.cpp 
INFO: [HLS 200-10] Adding design file 'activation_accelerator.cpp' to the project
INFO: [HLS 200-1510] Running: add_files activation_accelerator.h 
INFO: [HLS 200-10] Adding design file 'activation_accelerator.h' to the project
INFO: [HLS 200-1510] Running: add_files -tb testbench.cpp 
INFO: [HLS 200-10] Adding test bench file 'testbench.cpp' to the project
INFO: [HLS 200-1510] Running: set_top activation_accelerator 
INFO: [HLS 200-1510] Running: open_solution -reset baseline -flow_target vivado 
INFO: [HLS 200-10] Creating and opening solution '/data1/jcz/activation_accelerator_tutorial/prj/baseline/kernel_hls/activation_accelerator/baseline'.
INFO: [HLS 200-10] Cleaning up the solution database.
INFO: [HLS 200-1505] Using flow_target 'vivado'
Resolution: For help on HLS 200-1505 see www.xilinx.com/cgi-bin/docs/rdoc?v=2022.2;t=hls+guidance;d=200-1505.html
INFO: [HLS 200-435] Setting 'open_solution -flow_target vivado' configuration: config_interface -m_axi_latency=0
INFO: [HLS 200-1510] Running: set_part xck26-sfvc784-2LV-c 
INFO: [HLS 200-1611] Setting target device to 'xck26-sfvc784-2LV-c'
INFO: [HLS 200-1510] Running: create_clock -period 10 
INFO: [SYN 201-201] Setting up clock 'default' with a period of 10ns.
INFO: [HLS 200-1510] Running: csim_design 
Running Dispatch Server on port: 35679
INFO: [SIM 211-2] *************** CSIM start ***************
INFO: [SIM 211-4] CSIM will launch GCC as the compiler.
   Compiling ../../../../testbench.cpp in debug mode
   Compiling ../../../../activation_accelerator.cpp in debug mode
   Generating csim.exe
Loading test data...
Using relative data path: /data1/jcz/activation_accelerator_tutorial/prj/testvector_example/bf16_vectors2/
BF16 data loaded successfully
in0 statistics: min=0, max=65535, mean=26455.6
in1 statistics: min=0, max=65535, mean=26455.6
mask statistics: min=0, max=0, mean=0
=== HLS Activation Accelerator Testbench ===
Trying to load: /data1/jcz/activation_accelerator_tutorial/prj/testvector_example/bf16_vectors2/golden_out_config_0_bf16.bin
Loaded Config 0 golden data from bf16
Trying to load: /data1/jcz/activation_accelerator_tutorial/prj/testvector_example/bf16_vectors2/golden_out_config_1_bf16.bin
Loaded Config 1 golden data from bf16
Trying to load: /data1/jcz/activation_accelerator_tutorial/prj/testvector_example/bf16_vectors2/golden_out_config_2_bf16.bin
Loaded Config 2 golden data from bf16
Trying to load: /data1/jcz/activation_accelerator_tutorial/prj/testvector_example/bf16_vectors2/golden_out_config_3_bf16.bin
Loaded Config 3 golden data from bf16
Trying to load: /data1/jcz/activation_accelerator_tutorial/prj/testvector_example/bf16_vectors2/golden_out_config_4_bf16.bin
Loaded Config 4 golden data from bf16
Trying to load: /data1/jcz/activation_accelerator_tutorial/prj/testvector_example/bf16_vectors2/golden_out_config_5_bf16.bin
Loaded Config 5 golden data from bf16
Trying to load: /data1/jcz/activation_accelerator_tutorial/prj/testvector_example/bf16_vectors2/golden_out_config_6_bf16.bin
Loaded Config 6 golden data from bf16
Packed inputs to 512b buffers (stage 0 prepared)

--- Testing Config 0 ---
Config 0 compute time: 3443.39 ms
Output results saved to: /data1/jcz/activation_accelerator_tutorial/prj/testvector_example/bf16_vectors2/hls_output_config_0.bin
Max Difference: 65535
Config 0 test failed with 38280 errors

--- Testing Config 1 ---
Config 1 compute time: 4062.33 ms
Output results saved to: /data1/jcz/activation_accelerator_tutorial/prj/testvector_example/bf16_vectors2/hls_output_config_1.bin
Max Difference: 65535
Config 1 test failed with 31928 errors

--- Testing Config 2 ---
Config 2 compute time: 1007.28 ms
Output results saved to: /data1/jcz/activation_accelerator_tutorial/prj/testvector_example/bf16_vectors2/hls_output_config_2.bin
Max Difference: 65535
Config 2 test failed with 41233 errors

--- Testing Config 3 ---
Config 3 compute time: 1006.34 ms
Output results saved to: /data1/jcz/activation_accelerator_tutorial/prj/testvector_example/bf16_vectors2/hls_output_config_3.bin
Max Difference: 65535
Config 3 test failed with 33730 errors

--- Testing Config 4 ---
Config 4 compute time: 1005.05 ms
Output results saved to: /data1/jcz/activation_accelerator_tutorial/prj/testvector_example/bf16_vectors2/hls_output_config_4.bin
Max Difference: 65535
Config 4 test failed with 47035 errors

--- Testing Config 5 ---
Config 5 compute time: 1005.01 ms
Output results saved to: /data1/jcz/activation_accelerator_tutorial/prj/testvector_example/bf16_vectors2/hls_output_config_5.bin
Max Difference: 65535
Config 5 test failed with 44004 errors

--- Testing Config 6 ---
Config 6 compute time: 1009.08 ms
Output results saved to: /data1/jcz/activation_accelerator_tutorial/prj/testvector_example/bf16_vectors2/hls_output_config_6.bin
Max Difference: 65535
Config 6 test failed with 22262 errors

Total compute time for all configs: 12538.5 ms

=== Test Complete ===
INFO: [SIM 211-1] CSim done with 0 errors.
INFO: [SIM 211-3] *************** CSIM finish ***************
INFO: [HLS 200-111] Finished Command csim_design CPU user time: 21.27 seconds. CPU system time: 0.84 seconds. Elapsed time: 22.08 seconds; current allocated memory: 0.000 MB.
INFO: [HLS 200-1510] Running: csynth_design 
INFO: [HLS 200-111] Finished File checks and directory preparation: CPU user time: 0.01 seconds. CPU system time: 0 seconds. Elapsed time: 0.01 seconds; current allocated memory: 748.227 MB.
INFO: [HLS 200-10] Analyzing design file 'activation_accelerator.cpp' ... 
INFO: [HLS 200-111] Finished Source Code Analysis and Preprocessing: CPU user time: 29.49 seconds. CPU system time: 1.91 seconds. Elapsed time: 34.88 seconds; current allocated memory: 755.207 MB.
INFO: [HLS 200-777] Using interface defaults for 'Vivado' flow target.
INFO: [HLS 214-131] Inlining function 'exp_reduce_::exp(float)' into 'hls::expf(float)' (/wrk/ci/prod/2022.2/hls_product/continuous/608/2022.2/src/shared/hls/clib/hlsmath/src/c++/expfloat.cpp:22:9)
INFO: [HLS 214-131] Inlining function 'hls::expf(float)' into 'float_safe_softmax(float const*, ap_uint<16>*, int)' (activation_accelerator.cpp:313:13)
INFO: [HLS 214-131] Inlining function 'hls::expf(float)' into 'float_silu(float const*, ap_uint<16>*, int)' (activation_accelerator.cpp:231:29)
INFO: [HLS 214-291] Loop 'VITIS_LOOP_407_2' is marked as complete unroll implied by the pipeline pragma (activation_accelerator.cpp:407:31)
INFO: [HLS 214-291] Loop 'VITIS_LOOP_468_6' is marked as complete unroll implied by the pipeline pragma (activation_accelerator.cpp:468:31)
INFO: [HLS 214-186] Unrolling loop 'VITIS_LOOP_407_2' (activation_accelerator.cpp:407:31) in function 'activation_accelerator' completely with a factor of 32 (activation_accelerator.cpp:361:0)
INFO: [HLS 214-186] Unrolling loop 'VITIS_LOOP_468_6' (activation_accelerator.cpp:468:31) in function 'activation_accelerator' completely with a factor of 32 (activation_accelerator.cpp:361:0)
ERROR: [HLS 214-326] in function 'activation_accelerator(ap_uint<512>*, ap_uint<512>*, ap_uint<512>*, int, int)': Invalid value for m_axi max_read/write_burst_length. It should be in [1, 256] and pow of 2, activation_accelerator(ap_uint<512>*, ap_uint<512>*, ap_uint<512>*, int, int)'  (activation_accelerator.cpp:366:9)
ERROR: [HLS 214-326] in function 'activation_accelerator(ap_uint<512>*, ap_uint<512>*, ap_uint<512>*, int, int)': Invalid value for m_axi max_read/write_burst_length. It should be in [1, 256] and pow of 2, activation_accelerator(ap_uint<512>*, ap_uint<512>*, ap_uint<512>*, int, int)'  (activation_accelerator.cpp:367:9)
ERROR: [HLS 214-326] in function 'activation_accelerator(ap_uint<512>*, ap_uint<512>*, ap_uint<512>*, int, int)': Invalid value for m_axi max_read/write_burst_length. It should be in [1, 256] and pow of 2, activation_accelerator(ap_uint<512>*, ap_uint<512>*, ap_uint<512>*, int, int)'  (activation_accelerator.cpp:368:9)
ERROR: [HLS 200-1715] Encountered problem during source synthesis
INFO: [HLS 200-111] Finished Command csynth_design CPU user time: 34.38 seconds. CPU system time: 2.69 seconds. Elapsed time: 42.2 seconds; current allocated memory: 6.980 MB.
Pre-synthesis failed.
    while executing
"source run_hls.tcl"
    ("uplevel" body line 1)
    invoked from within
"uplevel \#0 [list source $arg] "

INFO: [HLS 200-112] Total CPU user time: 59.13 seconds. Total CPU system time: 4.19 seconds. Total elapsed time: 78.16 seconds; peak allocated memory: 755.207 MB.
INFO: [Common 17-206] Exiting vitis_hls at Sun Sep 28 11:20:34 2025...
